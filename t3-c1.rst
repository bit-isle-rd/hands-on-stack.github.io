クラウド上のストレージの概念
================

----

概要
================

クラウドシステム上のストレージには大きく分けて3つの種類があります。


* エフェメラルディスク 
* 永続化ボリューム
* オブジェクトストレージ



----


エフェメラルディスクと永続化ボリューム
================

::

 エフェメラルディスクと永続化ボリュームは仮想サーバーからマウントして利用する
 ことができるブロックアクセスが可能なストレージです。
 OpenStackにおいてはデフォルトの仮想マシンのディスクはエフェメラルディスクと
 なります。ボリュームはそのままボリュームと表現されています。

.. image:: ./_assets/c1-t3/01.ephemeral-vs-volume.gif
   :width: 85%

----


オブジェクトストレージ
================

::

  ブロック単位でアクセスが可能な前頁のストレージに対して、ファイル単位で
  アクセスするストレージとしてオブジェクトストレージがあります。
  オブジェクトストレージはHTTP(S)プロトコルでファイルの出し入れが可能な
  ストレージで、シンプルな構造ながら高い可用性を実現しています。


.. image:: ./_assets/c1-t3/02.object-storage.gif
   :width: 85%

----


ストレージ特性とデータ保護
================

- 各ストレージの特性を大まかに表に表すと以下のようになります。


======================  ======= ======================== 
  種類                   信頼性              用途
======================  ======= ======================== 
エフェメラルディスク      低い   仮想マシン
ボリューム                普通   ドライブ
オブジェクトストレージ    高い   ファイル/バックアップ
======================  ======= ======================== 


- クラウド上に構築するシステムではこれらのストレージ特性を把握し、使い分けることが重要です

----

OpenStack Cinderにおけるデータ保護
================

- Cinderが提供するデータ保護の方法にはスナップショットとボリュームバックアップの2種類があります。
- それぞれの特性をまとめたのが以下の表です。


.. image:: ./_assets/c1-t3/03.volume-manage.png
   :width: 85%


----

まとめ
================

- クラウド上のデータを保護するためには、各クラウドストレージの特性を理解し使い分けることが重要です。
- OpenStack のボリューム管理の機能では、ストレージの特性別にデータ保護を行う機能が実装されているのでこれを適切に利用して、データを保護することができます。
